{% extends "template.html" %}
{% block conteudo %}

<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='personagem.css') }}">
<div class="container mt-5">
<h1>Criar um novo personagem</h1>
<form method="POST" action="{{ url_for('novo_personagem') }}">
  {{ form.hidden_tag() }}
  
  {{ form.nome.label }}
  {{ form.nome }}
  
  {{ form.idade.label }}
  {{ form.idade }}
  
  {{ form.classe.label }}
  {{ form.classe }}
  
  {{ form.raca.label }}
  {{ form.raca }}
  
  {{ form.personalidade.label }}
  {{ form.personalidade }}
  
  <div class="mb-3">
    <label for="conteudo" class="form-label">backgraund (300 caracteres)</label>
    {{ form.backgraund(class="form-control", id="conteudo", maxlength="300") }}
    <p id="contador">0/300 caracteres</p>
  </div>

  <script>
    // Adicionar um ouvinte de evento ao campo de entrada
    const conteudo = document.getElementById('conteudo');
    const contador = document.getElementById('contador');

    conteudo.addEventListener('input', function () {
        const comprimentoTexto = conteudo.value.length;
        contador.textContent = `${comprimentoTexto}/300 caracteres`;

         // Desativar o campo quando atingir 1000 caracteres
        if (comprimentoTexto >= 300) {
            conteudo.disabled = true;
        } else {
            conteudo.disabled = false;
        }
    });
</script>
  
  <button type="submit">Salvar</button>
</form>



{% endblock %}